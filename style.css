:root {
  --accent-color: #7423ff;
  --bg-color: #f6f7fa;
  --tile-bg: #fff;
  --nav-bg: #fff;
  --text-color: #181828;
  --high-contrast-border: #000;
  --banner-bg: #e0d7ff;
}
body.dark-theme {
  --accent-color: #bf3cff;
  --bg-color: #181828;
  --tile-bg: #24113c;
  --nav-bg: #232346;
  --text-color: #f7eaff;
  --high-contrast-border: #fff;
  --banner-bg: #4b2679;
}
body {
  margin: 0;
  font-family: 'Inter', Arial, sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  transition: background .2s, color .2s;
  font-size: 16px;
}
.banner {
  display:none;
  background:var(--banner-bg);
  color:var(--accent-color);
  text-align:center;
  padding:.7em;
  font-size:1.1em;
  font-weight:bold;
}
.banner.active { display: block; }
.dashboard-navbar {
  background: var(--nav-bg);
  border-bottom: 1px solid #dadada;
  padding: 1em 2em;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.search-bar {
  margin-left: 2em;
  flex: 1 1 200px;
  padding: 0.3em 1em;
  border-radius: 8px;
  border: 1px solid #dedede;
  font-size: 1em;
}
.navbar-title { font-weight: bold; font-size: 1.3em; }
.navbar-actions { display: flex; align-items: center; }
.navbar-actions button { background: none; border: none; margin-left: 1em; font-size: 1.3em; cursor: pointer; color: var(--text-color);}
.avatar { width:32px; height:32px; border-radius:50%; background:#ccc; margin-left:1em;}
.avatar-picker { margin:10px 0; }
#avatar-list { display: flex; gap: 0.5em; margin: 0.4em 0; }
#avatar-list img { width:38px; height:38px; border-radius:50%; cursor:pointer; border:2px solid transparent;}
#avatar-list img.selected { border:2px solid var(--accent-color); }
.dropdown-menu {
  position: absolute; right: 2em; top: 3.5em; background: var(--tile-bg); border-radius: 8px;
  box-shadow: 0 2px 8px rgba(80,60,180,0.12); min-width: 150px; padding: 0.3em 0; display:block;
}
.dropdown-menu.hidden { display: none; }
.dropdown-menu a {
  display: block; padding: 0.7em 1.5em; color: var(--text-color); text-decoration: none;
}
.dropdown-menu a:hover { background: var(--accent-color); color: var(--tile-bg);}
main { padding: 1.5em 2em; min-height: 50vh;}
.course-tiles { display: flex; flex-wrap: wrap; gap: 2em; }
.course-tile, .course-tile-list { background:var(--tile-bg); border-radius:14px; 
  box-shadow:0 2px 10px rgba(80,60,180,0.10); padding:1.3em; margin-bottom:1em; cursor: grab; min-width:200px;}
.course-tile-list { width:100%; display:flex; align-items:center; }
.course-meta { font-size: .95em; color: #9a9afc;}
.tile-actions { margin-top:.5em; }
.btn { border-radius:6px; background:var(--accent-color); color:var(--tile-bg); border:none; padding:0.4em 1em; font-size:1em; cursor:pointer;}
.btn:hover {opacity:.93;}
.widget { background:var(--tile-bg); border-radius:10px; margin:1.5em; padding:1em 1.5em; box-shadow:0 1px 4px rgba(80,60,180,0.10);}
#todo-list {list-style:none; padding:0;}
.todo-item {display:flex; align-items:center; margin-bottom: .5em;}
.todo-item.completed span { text-decoration: line-through; opacity:.5;}
.todo-item button { margin-left:.5em; }
.settings-panel {
  position: fixed; right: 0; top: 0; width: 400px; max-width: 96vw; height:100vh; background:var(--tile-bg);
  color: var(--text-color); padding:2em; box-shadow: -3px 0 18px rgba(80,60,180,0.12); z-index: 100;
  font-size: 1.08em; overflow-y:auto;
}
.settings-panel input[type="text"],.settings-panel input[type="color"],.settings-panel textarea,
.settings-panel select { width: 90%; margin-bottom:.7em; }
.settings-panel label {display:block; margin-top:.5em;}
.settings-panel[aria-label] { font-weight:bold; }
.settings-panel.hidden { display: none;}
button { border-radius:6px; background:var(--accent-color); color:var(--tile-bg); border: none; padding:0.5em 1.2em; font-size:1em; cursor:pointer;}
button:hover { opacity:0.93; }
@media (max-width:600px){
  .dashboard-navbar {flex-direction:column; padding:1em;}
  .settings-panel {width:100vw;}
}
body.high-contrast, body.high-contrast .course-tile, body.high-contrast .widget, body.high-contrast .settings-panel {
  border:2px solid var(--high-contrast-border) !important;
}
body[data-font-size="14"]{ font-size:14px; }
body[data-font-size="16"]{ font-size:16px; }
body[data-font-size="18"]{ font-size:18px; }
body[data-font-size="20"]{ font-size:20px; }
body[data-font-size="22"]{ font-size:22px; }
